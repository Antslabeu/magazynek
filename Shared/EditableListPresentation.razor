@using System.ComponentModel.DataAnnotations


<div class="container text-center">
    <div class="row row-cols-5">
        @for(int i = 0; i < Items.Count; i++)
        {
            int index = i;
            <div class="flex-grow-1" style="margin-bottom: 24px;">
                <input class="form-control bg-dark text-light"
                    value="@Items[index]"
                    @oninput="(e => OnInputChanged(index, e))" />
            </div>
        }
        <div class="flex-grow-1">
            <button class="btn btn-success" type="button" @onclick="() => { Items.Add(newValue); }">
            <i class="fa-solid fa-plus"></i>
            </button>
        </div>
    </div>
</div>




@code {
    [Parameter] [Required] public List<string> Items { get; set; } = new List<string>();

    public List<string> GetItems() => Items;
    private string newValue = "Nowy";

    protected override void OnParametersSet()
    {
        for (int i = 0; i < Items.Count; i++) Items[i] ??= string.Empty;
    }
    private void OnInputChanged(int index, ChangeEventArgs e)
    {
        if (index < 0 || index >= Items.Count) return;
        Items[index] = e.Value?.ToString() ?? string.Empty;

    }
}